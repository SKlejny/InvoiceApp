{"ast":null,"code":"// src/pages/publishedDocumentspage.js\nimport React,{useState,useMemo}from'react';import{LayoutDashboard,FileText,FileSpreadsheet}from'lucide-react';import FileCard from'../components/FileCard';import SearchAndSort from'../components/SearchAndSort';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PublishedDocumentsPage=_ref=>{let{files=[],setCurrentPage,onView,onSent}=_ref;const[searchTerm,setSearchTerm]=useState('');const[sortCriteria,setSortCriteria]=useState('newest');const filteredAndSortedFiles=useMemo(()=>{return files.filter(file=>file.name.toLowerCase().includes(searchTerm.toLowerCase())).sort((a,b)=>{switch(sortCriteria){case'oldest':return new Date(a.createdDateTime)-new Date(b.createdDateTime);case'name-asc':return a.name.localeCompare(b.name);case'name-desc':return b.name.localeCompare(a.name);case'newest':default:return new Date(b.createdDateTime)-new Date(a.createdDateTime);}});},[files,searchTerm,sortCriteria]);// Split the files into two groups\nconst pdfFiles=filteredAndSortedFiles.filter(file=>file.type==='pdf');const xlsxFiles=filteredAndSortedFiles.filter(file=>file.type==='xlsx');const renderFileList=(list,title,icon)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[icon,/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-text-primary-light dark:text-text-primary-dark ml-2\",children:title})]}),list.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-4\",children:list.map(file=>/*#__PURE__*/_jsx(FileCard,{file:file// Use onFileAction to handle clicks consistently\n,onFileAction:(action,file)=>{if(action==='view')onView(file);if(action==='sent')onSent(file.id);},pageType:\"publishedDocuments\"},file.id))}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center p-10 bg-light-bg-card/50 dark:bg-dark-bg-card/50 rounded-xl shadow-inner h-full flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-text-secondary-light dark:text-text-secondary-dark\",children:[\"No \",title,\" found.\"]})})]});return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-light-bg-canvas dark:bg-dark-bg-card text-text-primary-light dark:text-text-primary-dark p-8\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"flex justify-between items-center mb-10 pb-4 border-b border-border-subtle-light dark:border-border-subtle-dark\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-brand-orange-light dark:text-brand-orange-dark\",children:\"Raised in QuickBooks\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentPage('dashboard'),className:\"px-6 py-2 bg-ui-blue-light/10 text-ui-blue-light rounded-lg shadow-md hover:bg-ui-blue-light/20 transition-colors duration-300 flex items-center dark:bg-ui-blue-dark/10 dark:text-ui-blue-dark dark:hover:bg-ui-blue-dark/20\",\"aria-label\":\"Back to Dashboard\",children:[/*#__PURE__*/_jsx(LayoutDashboard,{className:\"inline-block mr-2\",size:18}),\"Back to Dashboard\"]})]}),/*#__PURE__*/_jsx(SearchAndSort,{searchTerm:searchTerm,setSearchTerm:setSearchTerm,sortCriteria:sortCriteria,setSortCriteria:setSortCriteria}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row gap-8 mt-6\",children:[renderFileList(pdfFiles,\"PDF Invoices\",/*#__PURE__*/_jsx(FileText,{size:28,className:\"text-brand-orange-light dark:text-brand-orange-dark\"})),/*#__PURE__*/_jsx(\"div\",{className:\"border-b lg:border-l border-border-subtle-light dark:border-border-subtle-dark\"}),renderFileList(xlsxFiles,\"Excel Invoices\",/*#__PURE__*/_jsx(FileSpreadsheet,{size:28,className:\"text-brand-orange-light dark:text-brand-orange-dark\"}))]})]});};export default PublishedDocumentsPage;","map":{"version":3,"names":["React","useState","useMemo","LayoutDashboard","FileText","FileSpreadsheet","FileCard","SearchAndSort","jsx","_jsx","jsxs","_jsxs","PublishedDocumentsPage","_ref","files","setCurrentPage","onView","onSent","searchTerm","setSearchTerm","sortCriteria","setSortCriteria","filteredAndSortedFiles","filter","file","name","toLowerCase","includes","sort","a","b","Date","createdDateTime","localeCompare","pdfFiles","type","xlsxFiles","renderFileList","list","title","icon","className","children","length","map","onFileAction","action","id","pageType","onClick","size"],"sources":["/workspaces/InvoiceApp/src/pages/PublishedDocumentsPage.js"],"sourcesContent":["// src/pages/publishedDocumentspage.js\nimport React, { useState, useMemo } from 'react';\nimport { LayoutDashboard, FileText, FileSpreadsheet } from 'lucide-react';\nimport FileCard from '../components/FileCard';\nimport SearchAndSort from '../components/SearchAndSort';\n\nconst PublishedDocumentsPage = ({ files = [], setCurrentPage, onView, onSent }) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortCriteria, setSortCriteria] = useState('newest');\n\n  const filteredAndSortedFiles = useMemo(() => {\n    return files\n      .filter(file => file.name.toLowerCase().includes(searchTerm.toLowerCase()))\n      .sort((a, b) => {\n        switch (sortCriteria) {\n          case 'oldest': return new Date(a.createdDateTime) - new Date(b.createdDateTime);\n          case 'name-asc': return a.name.localeCompare(b.name);\n          case 'name-desc': return b.name.localeCompare(a.name);\n          case 'newest':\n          default:\n            return new Date(b.createdDateTime) - new Date(a.createdDateTime);\n        }\n      });\n  }, [files, searchTerm, sortCriteria]);\n\n  // Split the files into two groups\n  const pdfFiles = filteredAndSortedFiles.filter(file => file.type === 'pdf');\n  const xlsxFiles = filteredAndSortedFiles.filter(file => file.type === 'xlsx');\n\n  const renderFileList = (list, title, icon) => (\n    <div className=\"flex-1\">\n      <div className=\"flex items-center mb-4\">\n        {icon}\n        <h2 className=\"text-2xl font-bold text-text-primary-light dark:text-text-primary-dark ml-2\">{title}</h2>\n      </div>\n      {list.length > 0 ? (\n        <div className=\"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-4\">\n            {list.map(file => (\n                <FileCard\n                    key={file.id}\n                    file={file}\n                    // Use onFileAction to handle clicks consistently\n                    onFileAction={(action, file) => {\n                        if(action === 'view') onView(file);\n                        if(action === 'sent') onSent(file.id);\n                    }}\n                    pageType=\"publishedDocuments\"\n                />\n            ))}\n        </div>\n      ) : (\n        <div className=\"text-center p-10 bg-light-bg-card/50 dark:bg-dark-bg-card/50 rounded-xl shadow-inner h-full flex items-center justify-center\">\n             <p className=\"text-text-secondary-light dark:text-text-secondary-dark\">No {title} found.</p>\n        </div>\n      )}\n    </div>\n  );\n\n  return (\n    <div className=\"min-h-screen bg-light-bg-canvas dark:bg-dark-bg-card text-text-primary-light dark:text-text-primary-dark p-8\">\n      <header className=\"flex justify-between items-center mb-10 pb-4 border-b border-border-subtle-light dark:border-border-subtle-dark\">\n        <h1 className=\"text-4xl font-bold text-brand-orange-light dark:text-brand-orange-dark\">Raised in QuickBooks</h1>\n        <button\n          onClick={() => setCurrentPage('dashboard')}\n          className=\"px-6 py-2 bg-ui-blue-light/10 text-ui-blue-light rounded-lg shadow-md hover:bg-ui-blue-light/20 transition-colors duration-300 flex items-center dark:bg-ui-blue-dark/10 dark:text-ui-blue-dark dark:hover:bg-ui-blue-dark/20\"\n          aria-label=\"Back to Dashboard\"\n        >\n          <LayoutDashboard className=\"inline-block mr-2\" size={18} />\n          Back to Dashboard\n        </button>\n      </header>\n      \n      <SearchAndSort\n        searchTerm={searchTerm}\n        setSearchTerm={setSearchTerm}\n        sortCriteria={sortCriteria}\n        setSortCriteria={setSortCriteria}\n      />\n\n      <div className=\"flex flex-col lg:flex-row gap-8 mt-6\">\n        {renderFileList(pdfFiles, \"PDF Invoices\", <FileText size={28} className=\"text-brand-orange-light dark:text-brand-orange-dark\" />)}\n        <div className=\"border-b lg:border-l border-border-subtle-light dark:border-border-subtle-dark\"></div>\n        {renderFileList(xlsxFiles, \"Excel Invoices\", <FileSpreadsheet size={28} className=\"text-brand-orange-light dark:text-brand-orange-dark\" />)}\n      </div>\n    </div>\n  );\n};\n\nexport default PublishedDocumentsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}