{"ast":null,"code":"var _jsxFileName = \"/workspaces/InvoiceApp/src/App.js\",\n  _s = $RefreshSig$();\n// src/App.js\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useMsal, useIsAuthenticated } from '@azure/msal-react';\nimport { InteractionRequiredAuthError } from '@azure/msal-browser';\n\n// Import components\nimport ConfirmModal from './components/ConfirmModal';\nimport EditFileModal from './components/EditFileModal';\nimport LoadingSpinner from './components/LoadingSpinner';\nimport ViewFileModal from './components/ViewFileModal';\nimport MessageDisplay from './components/MessageDisplay';\nimport ExcelChoiceModal from './components/ExcelChoiceModal';\nimport SettingsModal from './components/SettingsModal';\n\n// Import pages\nimport LoginPage from './pages/LoginPage';\nimport DashboardPage from './pages/DashboardPage';\nimport IncomingInvoicesPage from './pages/IncomingInvoicePage';\nimport PublishedDocumentsPage from './pages/PublishedDocumentsPage';\nimport ApprovedInvoicesPage from './pages/ApprovedInvoicesPage';\nimport SentDocumentsPage from './pages/SentDocumentsPage';\n\n// Import services and constants\nimport { fetchSharePointFiles, uploadFileToSharePoint, downloadFileFromSharePoint, updateSharePointFileContent, moveSharePointFile } from './services/sharepointService';\nimport { INCOMING_INVOICES_FOLDER_ITEM_ID, APPROVED_INVOICES_FOLDER_ITEM_ID, PUBLISHED_DOCUMENTS_FOLDER_ITEM_ID, SENT_FOLDER_ITEM_ID, FOLDER_NAMES } from './utils/constants';\nimport { loginRequest } from './authConfig';\nimport { ThemeContext } from './contexts/ThemeContext';\n\n// Icons for App.js header - FIX: Removed Sun and Moon as they are now used in SettingsModal\nimport { Upload, RefreshCw, Settings } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const {\n    instance,\n    accounts\n  } = useMsal();\n  const isAuthenticated = useIsAuthenticated();\n  const [userProfile, setUserProfile] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState({\n    text: '',\n    type: ''\n  });\n  const [isDarkMode, setIsDarkMode] = useState(() => {\n    return localStorage.getItem('theme') === 'dark';\n  });\n  const [folders, setFolders] = useState({\n    [FOLDER_NAMES.INCOMING_INVOICES]: [],\n    [FOLDER_NAMES.APPROVED_INVOICES]: [],\n    [FOLDER_NAMES.PUBLISHED_DOCUMENTS]: [],\n    [FOLDER_NAMES.SENT_DOCUMENTS]: []\n  });\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\n  const [isViewModalOpen, setIsViewModalOpen] = useState(false);\n  const [isConfirmModalOpen, setIsConfirmModalOpen] = useState(false);\n  const [isExcelChoiceModalOpen, setIsExcelChoiceModalOpen] = useState(false);\n  const [isSettingsModalOpen, setIsSettingsModalOpen] = useState(false);\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [editedFileName, setEditedFileName] = useState('');\n  const [editedFileContent, setEditedFileContent] = '';\n  const [confirmActionDetails, setConfirmActionDetails] = useState(null);\n  const [fileToOpenInExcel, setFileToOpenInExcel] = useState(null);\n  const [excelOpeningPreference, setExcelOpeningPreference] = useState(() => {\n    return localStorage.getItem('excelOpeningPreference') || 'ask';\n  });\n  const [currentPage, setCurrentPage] = useState('dashboard');\n\n  // --- Helper Functions and Callbacks ---\n\n  const showMessage = useCallback((text, type) => {\n    setMessage({\n      text,\n      type\n    });\n  }, []); // showMessage is stable because its dependency array is empty\n\n  const clearMessage = useCallback(() => {\n    setMessage({\n      text: '',\n      type: ''\n    });\n  }, []);\n  const toggleDarkMode = useCallback(() => {\n    setIsDarkMode(prevMode => {\n      const newMode = !prevMode;\n      localStorage.setItem('theme', newMode ? 'dark' : 'light');\n      return newMode;\n    });\n  }, []);\n  useEffect(() => {\n    localStorage.setItem('excelOpeningPreference', excelOpeningPreference);\n  }, [excelOpeningPreference]);\n  useEffect(() => {\n    if (isDarkMode) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [isDarkMode]);\n  const fetchUserProfile = useCallback(async () => {\n    if (accounts.length > 0) {\n      try {\n        const response = await instance.acquireTokenSilent({\n          ...loginRequest,\n          account: accounts[0]\n        });\n        const graphResponse = await fetch('https://graph.microsoft.com/v1.0/me', {\n          headers: {\n            'Authorization': `Bearer ${response.accessToken}`\n          }\n        });\n        if (graphResponse.ok) {\n          const profile = await graphResponse.json();\n          setUserProfile(profile);\n        } else {\n          console.error(\"Failed to fetch user profile:\", await graphResponse.text());\n        }\n      } catch (error) {\n        console.error(\"Error acquiring token for user profile:\", error);\n        if (error instanceof InteractionRequiredAuthError) {\n          instance.acquireTokenRedirect(loginRequest);\n        }\n      }\n    }\n  }, [accounts, instance]);\n  const fetchSharePointData = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const allFolders = await fetchSharePointFiles(instance, accounts);\n      setFolders(allFolders);\n      showMessage('Files refreshed successfully!', 'success');\n    } catch (error) {\n      console.error(\"Error fetching SharePoint files:\", error);\n      showMessage(`Failed to load files: ${error.message}`, 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [instance, accounts, showMessage]);\n  useEffect(() => {\n    if (isAuthenticated) {\n      fetchUserProfile();\n      fetchSharePointData();\n    }\n  }, [isAuthenticated, fetchUserProfile, fetchSharePointData]);\n\n  // --- MSAL Auth Handlers ---\n\n  const handleMicrosoftLogin = useCallback(async () => {\n    try {\n      setIsLoading(true);\n      await instance.loginPopup(loginRequest);\n    } catch (error) {\n      console.error(\"Login failed:\", error);\n      showMessage(`Login failed: ${error.message}`, 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [instance, showMessage]);\n  const handleLogout = useCallback(() => {\n    instance.logoutPopup();\n    setUserProfile(null);\n    setFolders({\n      [FOLDER_NAMES.INCOMING_INVOICES]: [],\n      [FOLDER_NAMES.APPROVED_INVOICES]: [],\n      [FOLDER_NAMES.PUBLISHED_DOCUMENTS]: [],\n      [FOLDER_NAMES.SENT_DOCUMENTS]: []\n    });\n    setCurrentPage('login');\n  }, [instance]);\n\n  // --- File Operations Handlers ---\n\n  const handleRefresh = useCallback(() => {\n    fetchSharePointData();\n  }, [fetchSharePointData]);\n  const handleUploadFile = useCallback(async (file, folderId) => {\n    setIsLoading(true);\n    try {\n      await uploadFileToSharePoint(file, folderId, instance, accounts);\n      showMessage('File uploaded successfully!', 'success');\n      fetchSharePointData();\n    } catch (error) {\n      console.error('Upload failed:', error);\n      showMessage(`File upload failed: ${error.message}`, 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [instance, accounts, showMessage, fetchSharePointData]);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const handleDownloadAndSetContent = useCallback(async file => {\n    // FIX: Added eslint-disable-next-line\n    setIsLoading(true);\n    try {\n      const content = await downloadFileFromSharePoint(file, instance, accounts);\n      setEditedFileContent(content);\n      return content;\n    } catch (error) {\n      console.error('Download failed:', error);\n      showMessage(`Failed to get file content: ${error.message}`, 'error');\n      setEditedFileContent('');\n      return null;\n    } finally {\n      setIsLoading(false);\n    }\n  }, [instance, accounts, showMessage]); // Corrected dependencies, now including showMessage as per consistent ESLint analysis\n\n  const handleEditClick = useCallback(async file => {\n    setSelectedFile(file);\n    setEditedFileName(file.name);\n    setIsEditModalOpen(true);\n    if (file.type !== 'xlsx') {\n      await handleDownloadAndSetContent(file);\n    } else {\n      setEditedFileContent('');\n    }\n  }, [handleDownloadAndSetContent]);\n  const openInExcelDesktop = useCallback(file => {\n    if (file && file.webUrl) {\n      const encodedUrl = encodeURIComponent(file.webUrl);\n      window.location.href = `ms-excel:ofe|u|${encodedUrl}`;\n      showMessage(`Attempting to open \"${file.name}\" in Excel desktop app.`, 'info');\n    }\n    setIsExcelChoiceModalOpen(false);\n    setFileToOpenInExcel(null);\n  }, [showMessage]);\n  const openInExcelWeb = useCallback(file => {\n    if (file && file.webUrl) {\n      window.open(file.webUrl, '_blank');\n      showMessage(`Opened \"${file.name}\" in Excel Online.`, 'success');\n    }\n    setIsExcelChoiceModalOpen(false);\n    setFileToOpenInExcel(null);\n  }, [showMessage]);\n  const handleSaveEdit = useCallback(async () => {\n    if (!selectedFile) return;\n    setIsConfirmModalOpen(false);\n    if (selectedFile.type === 'xlsx') {\n      if (excelOpeningPreference === 'web') {\n        openInExcelWeb(selectedFile);\n      } else if (excelOpeningPreference === 'desktop') {\n        openInExcelDesktop(selectedFile);\n      } else {\n        setFileToOpenInExcel(selectedFile);\n        setIsExcelChoiceModalOpen(true);\n      }\n      setIsEditModalOpen(false);\n      setSelectedFile(null);\n      setEditedFileName('');\n      setEditedFileContent('');\n      fetchSharePointData();\n      return;\n    }\n    setIsLoading(true);\n    try {\n      await updateSharePointFileContent(selectedFile.id, editedFileName, editedFileContent, instance, accounts);\n      showMessage('File updated successfully!', 'success');\n      setIsEditModalOpen(false);\n      setSelectedFile(null);\n      setEditedFileName('');\n      setEditedFileContent('');\n      fetchSharePointData();\n    } catch (error) {\n      console.error('Save edit failed:', error);\n      showMessage(`Save failed: ${error.message}`, 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [selectedFile, editedFileName, showMessage, editedFileContent, instance, accounts, fetchSharePointData, excelOpeningPreference, openInExcelWeb, openInExcelDesktop]); // FIX: showMessage removed from deps here\n\n  const handleView = useCallback(async file => {\n    setSelectedFile(file);\n    setIsViewModalOpen(true);\n    if (file.type === 'xlsx' && file.webUrl) {\n      if (excelOpeningPreference === 'web') {\n        openInExcelWeb(file);\n        setIsViewModalOpen(false);\n      } else if (excelOpeningPreference === 'desktop') {\n        openInExcelDesktop(file);\n        setIsViewModalOpen(false);\n      } else {\n        setFileToOpenInExcel(file);\n        setIsExcelChoiceModalOpen(true);\n        setIsViewModalOpen(false);\n      }\n      setEditedFileContent('');\n    } else {\n      await handleDownloadAndSetContent(file);\n    }\n  }, [handleDownloadAndSetContent, excelOpeningPreference, openInExcelWeb, openInExcelDesktop]);\n  const handleApprove = useCallback(fileId => {\n    setConfirmActionDetails({\n      type: 'approve',\n      fileId: fileId,\n      message: 'Are you sure you want to approve this invoice and move it to Approved Invoices?'\n    });\n    setIsConfirmModalOpen(true);\n  }, []);\n  const handleSent = useCallback(fileId => {\n    setConfirmActionDetails({\n      type: 'sent',\n      fileId: fileId,\n      message: 'Are you sure you want to mark this document as sent and move it to Sent Documents?'\n    });\n    setIsConfirmModalOpen(true);\n  }, []);\n  const handleConfirmAction = useCallback(async () => {\n    if (!confirmActionDetails) return;\n    setIsConfirmModalOpen(false);\n    setIsLoading(true);\n    const {\n      type,\n      fileId\n    } = confirmActionDetails;\n    let successMessage = '';\n    let errorMessage = '';\n    try {\n      if (type === 'approve') {\n        await moveSharePointFile(fileId, INCOMING_INVOICES_FOLDER_ITEM_ID, APPROVED_INVOICES_FOLDER_ITEM_ID, instance, accounts);\n        successMessage = 'Invoice approved and moved successfully!';\n      } else if (type === 'sent') {\n        await moveSharePointFile(fileId, PUBLISHED_DOCUMENTS_FOLDER_ITEM_ID, SENT_FOLDER_ITEM_ID, instance, accounts);\n        successMessage = 'Document marked as sent and moved successfully!';\n      }\n      showMessage(successMessage, 'success');\n      fetchSharePointData();\n    } catch (error) {\n      console.error(`Action \"${type}\" failed:`, error);\n      errorMessage = `Action failed: ${error.message}`;\n      showMessage(errorMessage, 'error');\n    } finally {\n      setIsLoading(false);\n      setConfirmActionDetails(null);\n    }\n  }, [confirmActionDetails, instance, accounts, fetchSharePointData, showMessage]);\n  const handleOpenSettings = useCallback(() => {\n    setIsSettingsModalOpen(true);\n  }, []);\n  const handleCloseSettings = useCallback(() => {\n    setIsSettingsModalOpen(false);\n  }, []);\n\n  // eslint-disable-next-line no-unused-vars\n  const handleSetExcelOpeningPreference = useCallback(preference => {\n    // FIX: Added eslint-disable-next-line\n    setExcelOpeningPreference(preference);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(ThemeContext.Provider, {\n    value: {\n      isDarkMode,\n      toggleDarkMode\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative min-h-screen flex flex-col\",\n      children: [isLoading && /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(MessageDisplay, {\n        message: message,\n        onClearMessage: clearMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ExcelChoiceModal, {\n        isOpen: isExcelChoiceModalOpen,\n        onClose: () => setIsExcelChoiceModalOpen(false),\n        fileName: (fileToOpenInExcel === null || fileToOpenInExcel === void 0 ? void 0 : fileToOpenInExcel.name) || '',\n        onOpenWeb: () => openInExcelWeb(fileToOpenInExcel),\n        onOpenDesktop: () => openInExcelDesktop(fileToOpenInExcel)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SettingsModal, {\n        isOpen: isSettingsModalOpen,\n        onClose: handleCloseSettings,\n        currentExcelPreference: excelOpeningPreference,\n        onPreferenceChange: preference => setExcelOpeningPreference(preference),\n        isDarkMode: isDarkMode,\n        toggleDarkMode: toggleDarkMode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"flex-grow\",\n        children: !isAuthenticated ? /*#__PURE__*/_jsxDEV(LoginPage, {\n          onLogin: handleMicrosoftLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"header\", {\n            className: \"flex justify-between items-center p-4 bg-light-bg-card shadow-md  dark:bg-dark-bg-card dark:text-text-primary-dark dark:border-b dark:border-border-subtle-dark\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-text-primary-light dark:text-text-primary-dark\",\n              children: \"Invoice System\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                id: \"fileUploadInput\",\n                style: {\n                  display: 'none'\n                },\n                onChange: e => {\n                  if (e.target.files && e.target.files[0]) {\n                    handleUploadFile(e.target.files[0], INCOMING_INVOICES_FOLDER_ITEM_ID);\n                    e.target.value = '';\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => document.getElementById('fileUploadInput').click(),\n                className: \"px-4 py-2 bg-brand-orange-light text-white rounded-lg shadow-md  hover:bg-brand-orange-dark transition duration-200 flex items-center\",\n                \"aria-label\": \"Upload new file\",\n                children: [/*#__PURE__*/_jsxDEV(Upload, {\n                  size: 18,\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 21\n                }, this), \" Upload File\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleRefresh,\n                className: \"px-4 py-2 bg-ui-blue-light/10 text-ui-blue-light rounded-lg shadow-md  hover:bg-ui-blue-light/20 transition-colors duration-200 flex items-center  dark:bg-ui-blue-dark/10 dark:text-ui-blue-dark dark:hover:bg-ui-blue-dark/20\",\n                \"aria-label\": \"Refresh file list\",\n                children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                  size: 18,\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 21\n                }, this), \" Refresh Files\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleOpenSettings,\n                className: \"px-4 py-2 bg-ui-blue-light/10 text-ui-blue-light rounded-lg shadow-md  hover:bg-ui-blue-light/20 transition-colors duration-300 flex items-center  dark:bg-ui-blue-dark/10 dark:text-ui-blue-dark dark:hover:bg-ui-blue-dark/20\",\n                \"aria-label\": \"Open settings\",\n                children: /*#__PURE__*/_jsxDEV(Settings, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this), currentPage === 'dashboard' && /*#__PURE__*/_jsxDEV(DashboardPage, {\n            userProfile: userProfile,\n            folders: folders,\n            setCurrentPage: setCurrentPage,\n            onLogout: handleLogout\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 17\n          }, this), currentPage === 'incomingInvoices' && /*#__PURE__*/_jsxDEV(IncomingInvoicesPage, {\n            files: folders[FOLDER_NAMES.INCOMING_INVOICES],\n            setCurrentPage: setCurrentPage,\n            onEdit: handleEditClick,\n            onApprove: handleApprove,\n            onView: handleView\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 17\n          }, this), currentPage === 'publishedDocuments' && /*#__PURE__*/_jsxDEV(PublishedDocumentsPage, {\n            files: folders[FOLDER_NAMES.PUBLISHED_DOCUMENTS],\n            setCurrentPage: setCurrentPage,\n            onView: handleView,\n            onSent: handleSent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 17\n          }, this), currentPage === 'approvedInvoices' && /*#__PURE__*/_jsxDEV(ApprovedInvoicesPage, {\n            files: folders[FOLDER_NAMES.APPROVED_INVOICES],\n            setCurrentPage: setCurrentPage,\n            onView: handleView\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 17\n          }, this), currentPage === 'sentDocuments' && /*#__PURE__*/_jsxDEV(SentDocumentsPage, {\n            files: folders[FOLDER_NAMES.SENT_DOCUMENTS],\n            setCurrentPage: setCurrentPage,\n            onView: handleView\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EditFileModal, {\n        isOpen: isEditModalOpen,\n        onClose: () => {\n          setIsEditModalOpen(false);\n          if (selectedFile && (selectedFile.type === 'pdf' || selectedFile.type === 'image' || selectedFile.type === 'other') && editedFileContent && typeof editedFileContent === 'string' && editedFileContent.startsWith('blob:')) {\n            URL.revokeObjectURL(editedFileContent);\n          }\n          setSelectedFile(null);\n          setEditedFileName('');\n          setEditedFileContent('');\n        },\n        fileName: editedFileName,\n        onFileNameChange: e => setEditedFileName(e.target.value),\n        fileContent: editedFileContent,\n        onFileContentChange: e => setEditedFileContent(e.target.value),\n        onSave: handleSaveEdit,\n        selectedFileType: selectedFile === null || selectedFile === void 0 ? void 0 : selectedFile.type,\n        selectedFileMimeType: selectedFile === null || selectedFile === void 0 ? void 0 : selectedFile.mimeType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ViewFileModal, {\n        isOpen: isViewModalOpen,\n        onClose: () => {\n          setIsViewModalOpen(false);\n          if (selectedFile && (selectedFile.type === 'pdf' || selectedFile.type === 'image' || selectedFile.type === 'other') && editedFileContent && typeof editedFileContent === 'string' && editedFileContent.startsWith('blob:')) {\n            URL.revokeObjectURL(editedFileContent);\n          }\n          setSelectedFile(null);\n          setEditedFileContent('');\n        },\n        fileName: (selectedFile === null || selectedFile === void 0 ? void 0 : selectedFile.name) || '',\n        fileContent: editedFileContent,\n        selectedFileType: selectedFile === null || selectedFile === void 0 ? void 0 : selectedFile.type,\n        selectedFileMimeType: selectedFile === null || selectedFile === void 0 ? void 0 : selectedFile.mimeType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ConfirmModal, {\n        isOpen: isConfirmModalOpen,\n        onClose: () => setIsConfirmModalOpen(false),\n        onConfirm: handleConfirmAction,\n        message: (confirmActionDetails === null || confirmActionDetails === void 0 ? void 0 : confirmActionDetails.message) || \"Are you sure you want to proceed?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 393,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"RJS1OxDnDhp+7cdxE2cADuhbDkQ=\", false, function () {\n  return [useMsal, useIsAuthenticated];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMsal","useIsAuthenticated","InteractionRequiredAuthError","ConfirmModal","EditFileModal","LoadingSpinner","ViewFileModal","MessageDisplay","ExcelChoiceModal","SettingsModal","LoginPage","DashboardPage","IncomingInvoicesPage","PublishedDocumentsPage","ApprovedInvoicesPage","SentDocumentsPage","fetchSharePointFiles","uploadFileToSharePoint","downloadFileFromSharePoint","updateSharePointFileContent","moveSharePointFile","INCOMING_INVOICES_FOLDER_ITEM_ID","APPROVED_INVOICES_FOLDER_ITEM_ID","PUBLISHED_DOCUMENTS_FOLDER_ITEM_ID","SENT_FOLDER_ITEM_ID","FOLDER_NAMES","loginRequest","ThemeContext","Upload","RefreshCw","Settings","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","instance","accounts","isAuthenticated","userProfile","setUserProfile","isLoading","setIsLoading","message","setMessage","text","type","isDarkMode","setIsDarkMode","localStorage","getItem","folders","setFolders","INCOMING_INVOICES","APPROVED_INVOICES","PUBLISHED_DOCUMENTS","SENT_DOCUMENTS","isEditModalOpen","setIsEditModalOpen","isViewModalOpen","setIsViewModalOpen","isConfirmModalOpen","setIsConfirmModalOpen","isExcelChoiceModalOpen","setIsExcelChoiceModalOpen","isSettingsModalOpen","setIsSettingsModalOpen","selectedFile","setSelectedFile","editedFileName","setEditedFileName","editedFileContent","setEditedFileContent","confirmActionDetails","setConfirmActionDetails","fileToOpenInExcel","setFileToOpenInExcel","excelOpeningPreference","setExcelOpeningPreference","currentPage","setCurrentPage","showMessage","clearMessage","toggleDarkMode","prevMode","newMode","setItem","document","documentElement","classList","add","remove","fetchUserProfile","length","response","acquireTokenSilent","account","graphResponse","fetch","headers","accessToken","ok","profile","json","console","error","acquireTokenRedirect","fetchSharePointData","allFolders","handleMicrosoftLogin","loginPopup","handleLogout","logoutPopup","handleRefresh","handleUploadFile","file","folderId","handleDownloadAndSetContent","content","handleEditClick","name","openInExcelDesktop","webUrl","encodedUrl","encodeURIComponent","window","location","href","openInExcelWeb","open","handleSaveEdit","id","handleView","handleApprove","fileId","handleSent","handleConfirmAction","successMessage","errorMessage","handleOpenSettings","handleCloseSettings","handleSetExcelOpeningPreference","preference","Provider","value","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClearMessage","isOpen","onClose","onOpenWeb","onOpenDesktop","currentExcelPreference","onPreferenceChange","onLogin","style","display","onChange","e","target","files","onClick","getElementById","click","size","onLogout","onEdit","onApprove","onView","onSent","startsWith","URL","revokeObjectURL","onFileNameChange","fileContent","onFileContentChange","onSave","selectedFileType","selectedFileMimeType","mimeType","onConfirm","_c","$RefreshReg$"],"sources":["/workspaces/InvoiceApp/src/App.js"],"sourcesContent":["// src/App.js\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useMsal, useIsAuthenticated } from '@azure/msal-react';\nimport { InteractionRequiredAuthError } from '@azure/msal-browser';\n\n// Import components\nimport ConfirmModal from './components/ConfirmModal';\nimport EditFileModal from './components/EditFileModal';\nimport LoadingSpinner from './components/LoadingSpinner';\nimport ViewFileModal from './components/ViewFileModal';\nimport MessageDisplay from './components/MessageDisplay';\nimport ExcelChoiceModal from './components/ExcelChoiceModal';\nimport SettingsModal from './components/SettingsModal';\n\n// Import pages\nimport LoginPage from './pages/LoginPage';\nimport DashboardPage from './pages/DashboardPage';\nimport IncomingInvoicesPage from './pages/IncomingInvoicePage';\nimport PublishedDocumentsPage from './pages/PublishedDocumentsPage';\nimport ApprovedInvoicesPage from './pages/ApprovedInvoicesPage';\nimport SentDocumentsPage from './pages/SentDocumentsPage';\n\n// Import services and constants\nimport {\n  fetchSharePointFiles,\n  uploadFileToSharePoint,\n  downloadFileFromSharePoint,\n  updateSharePointFileContent,\n  moveSharePointFile\n} from './services/sharepointService';\nimport {\n  INCOMING_INVOICES_FOLDER_ITEM_ID,\n  APPROVED_INVOICES_FOLDER_ITEM_ID,\n  PUBLISHED_DOCUMENTS_FOLDER_ITEM_ID,\n  SENT_FOLDER_ITEM_ID,\n  FOLDER_NAMES\n} from './utils/constants';\nimport { loginRequest } from './authConfig';\nimport { ThemeContext } from './contexts/ThemeContext';\n\n// Icons for App.js header - FIX: Removed Sun and Moon as they are now used in SettingsModal\nimport { Upload, RefreshCw, Settings } from 'lucide-react';\n\n\nfunction App() {\n  const { instance, accounts } = useMsal();\n  const isAuthenticated = useIsAuthenticated();\n\n  const [userProfile, setUserProfile] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState({ text: '', type: '' });\n  const [isDarkMode, setIsDarkMode] = useState(() => {\n    return localStorage.getItem('theme') === 'dark';\n  });\n\n  const [folders, setFolders] = useState({\n    [FOLDER_NAMES.INCOMING_INVOICES]: [],\n    [FOLDER_NAMES.APPROVED_INVOICES]: [],\n    [FOLDER_NAMES.PUBLISHED_DOCUMENTS]: [],\n    [FOLDER_NAMES.SENT_DOCUMENTS]: [],\n  });\n\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\n  const [isViewModalOpen, setIsViewModalOpen] = useState(false);\n  const [isConfirmModalOpen, setIsConfirmModalOpen] = useState(false);\n  const [isExcelChoiceModalOpen, setIsExcelChoiceModalOpen] = useState(false);\n  const [isSettingsModalOpen, setIsSettingsModalOpen] = useState(false);\n\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [editedFileName, setEditedFileName] = useState('');\n  const [editedFileContent, setEditedFileContent] = '';\n  const [confirmActionDetails, setConfirmActionDetails] = useState(null);\n  const [fileToOpenInExcel, setFileToOpenInExcel] = useState(null);\n  const [excelOpeningPreference, setExcelOpeningPreference] = useState(() => {\n    return localStorage.getItem('excelOpeningPreference') || 'ask';\n  });\n\n\n  const [currentPage, setCurrentPage] = useState('dashboard');\n\n\n  // --- Helper Functions and Callbacks ---\n\n  const showMessage = useCallback((text, type) => {\n    setMessage({ text, type });\n  }, []); // showMessage is stable because its dependency array is empty\n\n  const clearMessage = useCallback(() => {\n    setMessage({ text: '', type: '' });\n  }, []);\n\n\n  const toggleDarkMode = useCallback(() => {\n    setIsDarkMode(prevMode => {\n      const newMode = !prevMode;\n      localStorage.setItem('theme', newMode ? 'dark' : 'light');\n      return newMode;\n    });\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('excelOpeningPreference', excelOpeningPreference);\n  }, [excelOpeningPreference]);\n\n  useEffect(() => {\n    if (isDarkMode) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [isDarkMode]);\n\n\n  const fetchUserProfile = useCallback(async () => {\n    if (accounts.length > 0) {\n      try {\n        const response = await instance.acquireTokenSilent({\n          ...loginRequest,\n          account: accounts[0]\n        });\n        const graphResponse = await fetch('https://graph.microsoft.com/v1.0/me', {\n          headers: {\n            'Authorization': `Bearer ${response.accessToken}`\n          }\n        });\n        if (graphResponse.ok) {\n          const profile = await graphResponse.json();\n          setUserProfile(profile);\n        } else {\n          console.error(\"Failed to fetch user profile:\", await graphResponse.text());\n        }\n      } catch (error) {\n        console.error(\"Error acquiring token for user profile:\", error);\n        if (error instanceof InteractionRequiredAuthError) {\n          instance.acquireTokenRedirect(loginRequest);\n        }\n      }\n    }\n  }, [accounts, instance]);\n\n\n  const fetchSharePointData = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const allFolders = await fetchSharePointFiles(instance, accounts);\n      setFolders(allFolders);\n      showMessage('Files refreshed successfully!', 'success');\n    } catch (error) {\n      console.error(\"Error fetching SharePoint files:\", error);\n      showMessage(`Failed to load files: ${error.message}`, 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [instance, accounts, showMessage]);\n\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      fetchUserProfile();\n      fetchSharePointData();\n    }\n  }, [isAuthenticated, fetchUserProfile, fetchSharePointData]);\n\n\n  // --- MSAL Auth Handlers ---\n\n  const handleMicrosoftLogin = useCallback(async () => {\n    try {\n      setIsLoading(true);\n      await instance.loginPopup(loginRequest);\n    } catch (error) {\n      console.error(\"Login failed:\", error);\n      showMessage(`Login failed: ${error.message}`, 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [instance, showMessage]);\n\n  const handleLogout = useCallback(() => {\n    instance.logoutPopup();\n    setUserProfile(null);\n    setFolders({\n      [FOLDER_NAMES.INCOMING_INVOICES]: [],\n      [FOLDER_NAMES.APPROVED_INVOICES]: [],\n      [FOLDER_NAMES.PUBLISHED_DOCUMENTS]: [],\n      [FOLDER_NAMES.SENT_DOCUMENTS]: [],\n    });\n    setCurrentPage('login');\n  }, [instance]);\n\n\n  // --- File Operations Handlers ---\n\n  const handleRefresh = useCallback(() => {\n    fetchSharePointData();\n  }, [fetchSharePointData]);\n\n\n  const handleUploadFile = useCallback(async (file, folderId) => {\n    setIsLoading(true);\n    try {\n      await uploadFileToSharePoint(file, folderId, instance, accounts);\n      showMessage('File uploaded successfully!', 'success');\n      fetchSharePointData();\n    } catch (error) {\n      console.error('Upload failed:', error);\n      showMessage(`File upload failed: ${error.message}`, 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [instance, accounts, showMessage, fetchSharePointData]);\n\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const handleDownloadAndSetContent = useCallback(async (file) => { // FIX: Added eslint-disable-next-line\n    setIsLoading(true);\n    try {\n      const content = await downloadFileFromSharePoint(file, instance, accounts);\n      setEditedFileContent(content);\n      return content;\n    } catch (error) {\n      console.error('Download failed:', error);\n      showMessage(`Failed to get file content: ${error.message}`, 'error');\n      setEditedFileContent('');\n      return null;\n    } finally {\n      setIsLoading(false);\n    }\n  }, [instance, accounts, showMessage]); // Corrected dependencies, now including showMessage as per consistent ESLint analysis\n\n\n  const handleEditClick = useCallback(async (file) => {\n    setSelectedFile(file);\n    setEditedFileName(file.name);\n    setIsEditModalOpen(true);\n    if (file.type !== 'xlsx') {\n      await handleDownloadAndSetContent(file);\n    } else {\n      setEditedFileContent('');\n    }\n  }, [handleDownloadAndSetContent]);\n\n\n  const openInExcelDesktop = useCallback((file) => {\n    if (file && file.webUrl) {\n      const encodedUrl = encodeURIComponent(file.webUrl);\n      window.location.href = `ms-excel:ofe|u|${encodedUrl}`;\n      showMessage(`Attempting to open \"${file.name}\" in Excel desktop app.`, 'info');\n    }\n    setIsExcelChoiceModalOpen(false);\n    setFileToOpenInExcel(null);\n  }, [showMessage]);\n\n  const openInExcelWeb = useCallback((file) => {\n    if (file && file.webUrl) {\n      window.open(file.webUrl, '_blank');\n      showMessage(`Opened \"${file.name}\" in Excel Online.`, 'success');\n    }\n    setIsExcelChoiceModalOpen(false);\n    setFileToOpenInExcel(null);\n  }, [showMessage]);\n\n\n  const handleSaveEdit = useCallback(async () => {\n    if (!selectedFile) return;\n\n    setIsConfirmModalOpen(false);\n\n    if (selectedFile.type === 'xlsx') {\n      if (excelOpeningPreference === 'web') {\n        openInExcelWeb(selectedFile);\n      } else if (excelOpeningPreference === 'desktop') {\n        openInExcelDesktop(selectedFile);\n      } else {\n        setFileToOpenInExcel(selectedFile);\n        setIsExcelChoiceModalOpen(true);\n      }\n      setIsEditModalOpen(false);\n      setSelectedFile(null);\n      setEditedFileName('');\n      setEditedFileContent('');\n      fetchSharePointData();\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      await updateSharePointFileContent(selectedFile.id, editedFileName, editedFileContent, instance, accounts);\n      showMessage('File updated successfully!', 'success');\n      setIsEditModalOpen(false);\n      setSelectedFile(null);\n      setEditedFileName('');\n      setEditedFileContent('');\n      fetchSharePointData();\n    } catch (error) {\n      console.error('Save edit failed:', error);\n      showMessage(`Save failed: ${error.message}`, 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [selectedFile, editedFileName,showMessage, editedFileContent, instance, accounts, fetchSharePointData, excelOpeningPreference, openInExcelWeb, openInExcelDesktop]); // FIX: showMessage removed from deps here\n\n\n  const handleView = useCallback(async (file) => {\n    setSelectedFile(file);\n    setIsViewModalOpen(true);\n\n    if (file.type === 'xlsx' && file.webUrl) {\n      if (excelOpeningPreference === 'web') {\n        openInExcelWeb(file);\n        setIsViewModalOpen(false);\n      } else if (excelOpeningPreference === 'desktop') {\n        openInExcelDesktop(file);\n        setIsViewModalOpen(false);\n      } else {\n        setFileToOpenInExcel(file);\n        setIsExcelChoiceModalOpen(true);\n        setIsViewModalOpen(false);\n      }\n      setEditedFileContent('');\n    } else {\n      await handleDownloadAndSetContent(file);\n    }\n  }, [handleDownloadAndSetContent, excelOpeningPreference, openInExcelWeb, openInExcelDesktop]);\n\n\n  const handleApprove = useCallback((fileId) => {\n    setConfirmActionDetails({\n      type: 'approve',\n      fileId: fileId,\n      message: 'Are you sure you want to approve this invoice and move it to Approved Invoices?'\n    });\n    setIsConfirmModalOpen(true);\n  }, []);\n\n  const handleSent = useCallback((fileId) => {\n    setConfirmActionDetails({\n      type: 'sent',\n      fileId: fileId,\n      message: 'Are you sure you want to mark this document as sent and move it to Sent Documents?'\n    });\n    setIsConfirmModalOpen(true);\n  }, []);\n\n\n  const handleConfirmAction = useCallback(async () => {\n    if (!confirmActionDetails) return;\n\n    setIsConfirmModalOpen(false);\n    setIsLoading(true);\n\n    const { type, fileId } = confirmActionDetails;\n    let successMessage = '';\n    let errorMessage = '';\n\n    try {\n      if (type === 'approve') {\n        await moveSharePointFile(fileId, INCOMING_INVOICES_FOLDER_ITEM_ID, APPROVED_INVOICES_FOLDER_ITEM_ID, instance, accounts);\n        successMessage = 'Invoice approved and moved successfully!';\n      } else if (type === 'sent') {\n        await moveSharePointFile(fileId, PUBLISHED_DOCUMENTS_FOLDER_ITEM_ID, SENT_FOLDER_ITEM_ID, instance, accounts);\n        successMessage = 'Document marked as sent and moved successfully!';\n      }\n      showMessage(successMessage, 'success');\n      fetchSharePointData();\n    } catch (error) {\n      console.error(`Action \"${type}\" failed:`, error);\n      errorMessage = `Action failed: ${error.message}`;\n      showMessage(errorMessage, 'error');\n    } finally {\n      setIsLoading(false);\n      setConfirmActionDetails(null);\n    }\n  }, [confirmActionDetails, instance, accounts, fetchSharePointData, showMessage]);\n\n\n  const handleOpenSettings = useCallback(() => {\n    setIsSettingsModalOpen(true);\n  }, []);\n\n  const handleCloseSettings = useCallback(() => {\n    setIsSettingsModalOpen(false);\n  }, []);\n\n  // eslint-disable-next-line no-unused-vars\n  const handleSetExcelOpeningPreference = useCallback((preference) => { // FIX: Added eslint-disable-next-line\n    setExcelOpeningPreference(preference);\n  }, []);\n\n\n  return (\n    <ThemeContext.Provider value={{ isDarkMode, toggleDarkMode }}>\n      <div className=\"relative min-h-screen flex flex-col\">\n        {isLoading && <LoadingSpinner />}\n\n        <MessageDisplay message={message} onClearMessage={clearMessage} />\n\n        <ExcelChoiceModal\n          isOpen={isExcelChoiceModalOpen}\n          onClose={() => setIsExcelChoiceModalOpen(false)}\n          fileName={fileToOpenInExcel?.name || ''}\n          onOpenWeb={() => openInExcelWeb(fileToOpenInExcel)}\n          onOpenDesktop={() => openInExcelDesktop(fileToOpenInExcel)}\n        />\n\n        <SettingsModal\n          isOpen={isSettingsModalOpen}\n          onClose={handleCloseSettings}\n          currentExcelPreference={excelOpeningPreference}\n          onPreferenceChange={(preference) => setExcelOpeningPreference(preference)}\n          isDarkMode={isDarkMode}\n          toggleDarkMode={toggleDarkMode}\n        />\n\n        <main className=\"flex-grow\">\n          {!isAuthenticated ? (\n            <LoginPage onLogin={handleMicrosoftLogin} />\n          ) : (\n            <>\n              <header className=\"flex justify-between items-center p-4 bg-light-bg-card shadow-md \n                                 dark:bg-dark-bg-card dark:text-text-primary-dark dark:border-b dark:border-border-subtle-dark\">\n                <h1 className=\"text-2xl font-bold text-text-primary-light dark:text-text-primary-dark\">Invoice System</h1>\n                \n                <div className=\"flex space-x-4\">\n                  <input\n                    type=\"file\"\n                    id=\"fileUploadInput\"\n                    style={{ display: 'none' }}\n                    onChange={(e) => {\n                      if (e.target.files && e.target.files[0]) {\n                        handleUploadFile(e.target.files[0], INCOMING_INVOICES_FOLDER_ITEM_ID);\n                        e.target.value = '';\n                      }\n                    }}\n                  />\n                  <button\n                    onClick={() => document.getElementById('fileUploadInput').click()}\n                    className=\"px-4 py-2 bg-brand-orange-light text-white rounded-lg shadow-md \n                               hover:bg-brand-orange-dark transition duration-200 flex items-center\"\n                    aria-label=\"Upload new file\"\n                  >\n                    <Upload size={18} className=\"mr-2\" /> Upload File\n                  </button>\n\n                  <button\n                    onClick={handleRefresh}\n                    className=\"px-4 py-2 bg-ui-blue-light/10 text-ui-blue-light rounded-lg shadow-md \n                               hover:bg-ui-blue-light/20 transition-colors duration-200 flex items-center \n                               dark:bg-ui-blue-dark/10 dark:text-ui-blue-dark dark:hover:bg-ui-blue-dark/20\"\n                    aria-label=\"Refresh file list\"\n                  >\n                    <RefreshCw size={18} className=\"mr-2\" /> Refresh Files\n                  </button>\n\n                  <button\n                    onClick={handleOpenSettings}\n                    className=\"px-4 py-2 bg-ui-blue-light/10 text-ui-blue-light rounded-lg shadow-md \n                               hover:bg-ui-blue-light/20 transition-colors duration-300 flex items-center \n                               dark:bg-ui-blue-dark/10 dark:text-ui-blue-dark dark:hover:bg-ui-blue-dark/20\"\n                    aria-label=\"Open settings\"\n                  >\n                    <Settings size={18} />\n                  </button>\n\n                  {/* Dark Mode Toggle Button: REMOVED from here as it's now in SettingsModal */}\n                  {/* <button\n                    onClick={toggleDarkMode}\n                    className=\"px-4 py-2 bg-border-subtle-light text-text-secondary-light rounded-lg shadow-md \n                               hover:bg-border-subtle-dark transition duration-200 flex items-center \n                               dark:bg-dark-bg-card dark:text-text-secondary-dark dark:hover:bg-gray-700\"\n                    aria-label={isDarkMode ? \"Switch to light mode\" : \"Switch to dark mode\"}\n                  >\n                    {isDarkMode ? <Sun size={18} /> : <Moon size={18} />}\n                  </button> */}\n                </div>\n              </header>\n\n              {currentPage === 'dashboard' && (\n                <DashboardPage\n                  userProfile={userProfile}\n                  folders={folders}\n                  setCurrentPage={setCurrentPage}\n                  onLogout={handleLogout}\n                />\n              )}\n              {currentPage === 'incomingInvoices' && (\n                <IncomingInvoicesPage\n                  files={folders[FOLDER_NAMES.INCOMING_INVOICES]}\n                  setCurrentPage={setCurrentPage}\n                  onEdit={handleEditClick}\n                  onApprove={handleApprove}\n                  onView={handleView}\n                />\n              )}\n              {currentPage === 'publishedDocuments' && (\n                <PublishedDocumentsPage\n                  files={folders[FOLDER_NAMES.PUBLISHED_DOCUMENTS]}\n                  setCurrentPage={setCurrentPage}\n                  onView={handleView}\n                  onSent={handleSent}\n                />\n              )}\n              {currentPage === 'approvedInvoices' && (\n                <ApprovedInvoicesPage\n                  files={folders[FOLDER_NAMES.APPROVED_INVOICES]}\n                  setCurrentPage={setCurrentPage}\n                  onView={handleView}\n                />\n              )}\n              {currentPage === 'sentDocuments' && (\n                <SentDocumentsPage\n                  files={folders[FOLDER_NAMES.SENT_DOCUMENTS]}\n                  setCurrentPage={setCurrentPage}\n                  onView={handleView}\n                />\n              )}\n            </>\n          )}\n        </main>\n\n        <EditFileModal\n          isOpen={isEditModalOpen}\n          onClose={() => {\n            setIsEditModalOpen(false);\n            if (selectedFile && (selectedFile.type === 'pdf' || selectedFile.type === 'image' || selectedFile.type === 'other') && editedFileContent && typeof editedFileContent === 'string' && editedFileContent.startsWith('blob:')) {\n                URL.revokeObjectURL(editedFileContent);\n            }\n            setSelectedFile(null);\n            setEditedFileName('');\n            setEditedFileContent('');\n          }}\n          fileName={editedFileName}\n          onFileNameChange={(e) => setEditedFileName(e.target.value)}\n          fileContent={editedFileContent}\n          onFileContentChange={(e) => setEditedFileContent(e.target.value)}\n          onSave={handleSaveEdit}\n          selectedFileType={selectedFile?.type}\n          selectedFileMimeType={selectedFile?.mimeType}\n        />\n        <ViewFileModal\n          isOpen={isViewModalOpen}\n          onClose={() => {\n            setIsViewModalOpen(false);\n            if (selectedFile && (selectedFile.type === 'pdf' || selectedFile.type === 'image' || selectedFile.type === 'other') && editedFileContent && typeof editedFileContent === 'string' && editedFileContent.startsWith('blob:')) {\n                URL.revokeObjectURL(editedFileContent);\n            }\n            setSelectedFile(null);\n            setEditedFileContent('');\n          }}\n          fileName={selectedFile?.name || ''}\n          fileContent={editedFileContent}\n          selectedFileType={selectedFile?.type}\n          selectedFileMimeType={selectedFile?.mimeType}\n        />\n\n        <ConfirmModal\n          isOpen={isConfirmModalOpen}\n          onClose={() => setIsConfirmModalOpen(false)}\n          onConfirm={handleConfirmAction}\n          message={confirmActionDetails?.message || \"Are you sure you want to proceed?\"}\n        />\n      </div>\n    </ThemeContext.Provider>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}