{"ast":null,"code":"// src/App.js\nimport React,{useState,useEffect,useCallback}from'react';import{useMsal,useIsAuthenticated}from'@azure/msal-react';import{loginRequest}from'./authConfig';// --- Hooks ---\nimport useGraph from'./hooks/useGraph';// --- Your Original Pages ---\nimport LoginPage from'./pages/LoginPage';import DashboardPage from'./pages/DashboardPage';import IncomingInvoicesPage from'./pages/IncomingInvoicePage';import ApprovedInvoicesPage from'./pages/ApprovedInvoicesPage';import PublishedDocumentsPage from'./pages/PublishedDocumentsPage';import SentDocumentsPage from'./pages/SentDocumentsPage';// --- Components ---\nimport LoadingSpinner from'./components/LoadingSpinner';import MessageDisplay from'./components/MessageDisplay';import Header from'./components/Header';import ConfirmModal from'./components/ConfirmModal';import ViewFileModal from'./components/ViewFileModal';import ExcelChoiceModal from'./components/ExcelChoiceModal';import SettingsModal from'./components/SettingsModal';import{FOLDER_DETAILS,FOLDER_NAMES}from'./utils/constants';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const{instance,accounts}=useMsal();const isAuthenticated=useIsAuthenticated();const{folders,isLoading,error,fetchSharePointData,moveSharePointFile,downloadFileFromSharePoint}=useGraph(instance,accounts);const[userProfile,setUserProfile]=useState(null);const[message,setMessage]=useState({text:'',type:''});const[isDarkMode,setIsDarkMode]=useState(()=>localStorage.getItem('theme')==='dark');const[currentPage,setCurrentPage]=useState('login');const[modal,setModal]=useState(null);const[selectedFile,setSelectedFile]=useState(null);const[viewedFileContent,setViewedFileContent]=useState(null);const[excelOpeningPreference,setExcelOpeningPreference]=useState(()=>localStorage.getItem('excelOpeningPreference')||'ask');const showMessage=useCallback(function(text){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'info';setMessage({text,type});},[]);useEffect(()=>{if(isAuthenticated&&accounts.length>0){const fetchProfile=async()=>{try{const response=await instance.acquireTokenSilent({...loginRequest,account:accounts[0]});const graphResponse=await fetch('https://graph.microsoft.com/v1.0/me',{headers:{Authorization:`Bearer ${response.accessToken}`}});const profile=await graphResponse.json();setUserProfile(profile);setCurrentPage('dashboard');fetchSharePointData();}catch(e){console.error(e);showMessage('Could not fetch user profile.','error');}};fetchProfile();}else{setCurrentPage('login');}},[isAuthenticated,accounts,instance,fetchSharePointData,showMessage]);useEffect(()=>{if(error){showMessage(error,'error');}},[error,showMessage]);useEffect(()=>{localStorage.setItem('theme',isDarkMode?'dark':'light');document.documentElement.classList.toggle('dark',isDarkMode);},[isDarkMode]);useEffect(()=>{localStorage.setItem('excelOpeningPreference',excelOpeningPreference);},[excelOpeningPreference]);const handleLogout=()=>{if(accounts.length>0){instance.logoutPopup({account:accounts[0]}).catch(e=>{console.error(e);});}};const handleMicrosoftLogin=()=>instance.loginPopup(loginRequest).catch(e=>console.error(e));const handleExcelOpen=useCallback(file=>{if(excelOpeningPreference==='ask'){setModal('excelChoice');}else if(excelOpeningPreference==='web'){window.open(file.webUrl,'_blank');}else{window.location.href=`ms-excel:ofe|u|${encodeURIComponent(file.webUrl)}`;}},[excelOpeningPreference]);const handleView=useCallback(async file=>{setSelectedFile(file);if(file.type==='xlsx'){handleExcelOpen(file);}else{try{const content=await downloadFileFromSharePoint(file);setViewedFileContent(content);setModal('viewFile');}catch(e){showMessage(e.message,'error');}}},[downloadFileFromSharePoint,handleExcelOpen,showMessage]);const handleApprove=useCallback(fileId=>{var _folders$FOLDER_NAMES;const fileToApprove=(_folders$FOLDER_NAMES=folders[FOLDER_NAMES.INCOMING_INVOICES])===null||_folders$FOLDER_NAMES===void 0?void 0:_folders$FOLDER_NAMES.find(f=>f.id===fileId);if(fileToApprove){setSelectedFile(fileToApprove);setModal('confirmApproval');}},[folders]);const handleSent=useCallback(fileId=>{var _folders$FOLDER_NAMES2;const fileToSend=(_folders$FOLDER_NAMES2=folders[FOLDER_NAMES.PUBLISHED_DOCUMENTS])===null||_folders$FOLDER_NAMES2===void 0?void 0:_folders$FOLDER_NAMES2.find(f=>f.id===fileId);if(fileToSend){setSelectedFile(fileToSend);setModal('confirmSent');}},[folders]);const handleConfirm=useCallback(async()=>{if(!selectedFile||!modal)return;const action=modal;const originalFile=selectedFile;setModal(null);try{let successMessage='';if(action==='confirmApproval'){const sourceFolderId=FOLDER_DETAILS.incomingInvoices.id;const destFolderId=FOLDER_DETAILS.approvedInvoices.id;await moveSharePointFile(originalFile.id,sourceFolderId,destFolderId);successMessage='File approved successfully.';}else if(action==='confirmSent'){const sourceFolderId=FOLDER_DETAILS.publishedDocuments.id;const destFolderId=FOLDER_DETAILS.sentDocuments.id;await moveSharePointFile(originalFile.id,sourceFolderId,destFolderId);successMessage='File marked as sent.';}showMessage(successMessage,'success');fetchSharePointData();}catch(e){showMessage(e.message,'error');}},[selectedFile,modal,moveSharePointFile,showMessage,fetchSharePointData]);// FIX: The switch statement was broken here. It is now fully restored.\nconst renderPage=()=>{switch(currentPage){case'dashboard':return/*#__PURE__*/_jsx(DashboardPage,{userProfile:userProfile,folders:folders,setCurrentPage:setCurrentPage});case'incomingInvoices':return/*#__PURE__*/_jsx(IncomingInvoicesPage,{files:folders[FOLDER_NAMES.INCOMING_INVOICES]||[],setCurrentPage:setCurrentPage,onView:handleView,onApprove:handleApprove});case'approvedInvoices':return/*#__PURE__*/_jsx(ApprovedInvoicesPage,{files:folders[FOLDER_NAMES.APPROVED_INVOICES]||[],setCurrentPage:setCurrentPage,onView:handleView});case'publishedDocuments':return/*#__PURE__*/_jsx(PublishedDocumentsPage,{files:folders[FOLDER_NAMES.PUBLISHED_DOCUMENTS]||[],setCurrentPage:setCurrentPage,onView:handleView,onSent:handleSent});case'sentDocuments':return/*#__PURE__*/_jsx(SentDocumentsPage,{files:folders[FOLDER_NAMES.SENT_DOCUMENTS]||[],setCurrentPage:setCurrentPage,onView:handleView});default:return/*#__PURE__*/_jsx(LoginPage,{onLogin:handleMicrosoftLogin});}};const closeModal=()=>{setModal(null);setSelectedFile(null);if(viewedFileContent&&viewedFileContent.startsWith('blob:')){URL.revokeObjectURL(viewedFileContent);}setViewedFileContent(null);};if(!isAuthenticated){return/*#__PURE__*/_jsx(LoginPage,{onLogin:handleMicrosoftLogin});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-light-bg-canvas dark:bg-dark-bg-card text-text-primary-light dark:text-text-primary-dark\",children:[isLoading&&/*#__PURE__*/_jsx(LoadingSpinner,{}),/*#__PURE__*/_jsx(MessageDisplay,{message:message,onClearMessage:()=>setMessage({text:'',type:''})}),/*#__PURE__*/_jsx(Header,{onLogout:handleLogout,onRefresh:fetchSharePointData,onSettingsClick:()=>setModal('settings'),setCurrentPage:setCurrentPage,currentPage:currentPage}),/*#__PURE__*/_jsx(\"main\",{className:\"p-4 sm:p-6 md:p-8 max-w-7xl mx-auto w-full\",children:renderPage()}),/*#__PURE__*/_jsx(ConfirmModal,{isOpen:modal==='confirmApproval'||modal==='confirmSent',onClose:closeModal,onConfirm:handleConfirm,title:modal==='confirmApproval'?\"Confirm Approval\":\"Confirm Sent\",message:`Are you sure you want to proceed with this action for \"${selectedFile===null||selectedFile===void 0?void 0:selectedFile.name}\"?`}),/*#__PURE__*/_jsx(ViewFileModal,{isOpen:modal==='viewFile',onClose:closeModal,file:selectedFile,content:viewedFileContent}),/*#__PURE__*/_jsx(ExcelChoiceModal,{isOpen:modal==='excelChoice',onClose:closeModal,fileName:(selectedFile===null||selectedFile===void 0?void 0:selectedFile.name)||'',onOpenWeb:()=>{window.open(selectedFile===null||selectedFile===void 0?void 0:selectedFile.webUrl,'_blank');closeModal();},onOpenDesktop:()=>{window.location.href=`ms-excel:ofe|u|${encodeURIComponent(selectedFile===null||selectedFile===void 0?void 0:selectedFile.webUrl)}`;closeModal();}}),/*#__PURE__*/_jsx(SettingsModal,{isOpen:modal==='settings',onClose:closeModal,isDarkMode:isDarkMode,toggleDarkMode:()=>setIsDarkMode(prev=>!prev),currentExcelPreference:excelOpeningPreference,onPreferenceChange:setExcelOpeningPreference})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMsal","useIsAuthenticated","loginRequest","useGraph","LoginPage","DashboardPage","IncomingInvoicesPage","ApprovedInvoicesPage","PublishedDocumentsPage","SentDocumentsPage","LoadingSpinner","MessageDisplay","Header","ConfirmModal","ViewFileModal","ExcelChoiceModal","SettingsModal","FOLDER_DETAILS","FOLDER_NAMES","jsx","_jsx","jsxs","_jsxs","App","instance","accounts","isAuthenticated","folders","isLoading","error","fetchSharePointData","moveSharePointFile","downloadFileFromSharePoint","userProfile","setUserProfile","message","setMessage","text","type","isDarkMode","setIsDarkMode","localStorage","getItem","currentPage","setCurrentPage","modal","setModal","selectedFile","setSelectedFile","viewedFileContent","setViewedFileContent","excelOpeningPreference","setExcelOpeningPreference","showMessage","arguments","length","undefined","fetchProfile","response","acquireTokenSilent","account","graphResponse","fetch","headers","Authorization","accessToken","profile","json","e","console","setItem","document","documentElement","classList","toggle","handleLogout","logoutPopup","catch","handleMicrosoftLogin","loginPopup","handleExcelOpen","file","window","open","webUrl","location","href","encodeURIComponent","handleView","content","handleApprove","fileId","_folders$FOLDER_NAMES","fileToApprove","INCOMING_INVOICES","find","f","id","handleSent","_folders$FOLDER_NAMES2","fileToSend","PUBLISHED_DOCUMENTS","handleConfirm","action","originalFile","successMessage","sourceFolderId","incomingInvoices","destFolderId","approvedInvoices","publishedDocuments","sentDocuments","renderPage","files","onView","onApprove","APPROVED_INVOICES","onSent","SENT_DOCUMENTS","onLogin","closeModal","startsWith","URL","revokeObjectURL","className","children","onClearMessage","onLogout","onRefresh","onSettingsClick","isOpen","onClose","onConfirm","title","name","fileName","onOpenWeb","onOpenDesktop","toggleDarkMode","prev","currentExcelPreference","onPreferenceChange"],"sources":["/workspaces/InvoiceApp/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useMsal, useIsAuthenticated } from '@azure/msal-react';\nimport { loginRequest } from './authConfig';\n\n// --- Hooks ---\nimport useGraph from './hooks/useGraph';\n\n// --- Your Original Pages ---\nimport LoginPage from './pages/LoginPage';\nimport DashboardPage from './pages/DashboardPage';\nimport IncomingInvoicesPage from './pages/IncomingInvoicePage';\nimport ApprovedInvoicesPage from './pages/ApprovedInvoicesPage';\nimport PublishedDocumentsPage from './pages/PublishedDocumentsPage';\nimport SentDocumentsPage from './pages/SentDocumentsPage';\n\n// --- Components ---\nimport LoadingSpinner from './components/LoadingSpinner';\nimport MessageDisplay from './components/MessageDisplay';\nimport Header from './components/Header';\nimport ConfirmModal from './components/ConfirmModal';\nimport ViewFileModal from './components/ViewFileModal';\nimport ExcelChoiceModal from './components/ExcelChoiceModal';\nimport SettingsModal from './components/SettingsModal';\n\nimport { FOLDER_DETAILS, FOLDER_NAMES } from './utils/constants';\n\nfunction App() {\n  const { instance, accounts } = useMsal();\n  const isAuthenticated = useIsAuthenticated();\n  const {\n    folders,\n    isLoading,\n    error,\n    fetchSharePointData,\n    moveSharePointFile,\n    downloadFileFromSharePoint,\n  } = useGraph(instance, accounts);\n\n  const [userProfile, setUserProfile] = useState(null);\n  const [message, setMessage] = useState({ text: '', type: '' });\n  const [isDarkMode, setIsDarkMode] = useState(() => localStorage.getItem('theme') === 'dark');\n\n  const [currentPage, setCurrentPage] = useState('login');\n  const [modal, setModal] = useState(null);\n\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [viewedFileContent, setViewedFileContent] = useState(null);\n  const [excelOpeningPreference, setExcelOpeningPreference] = useState(() => localStorage.getItem('excelOpeningPreference') || 'ask');\n\n  const showMessage = useCallback((text, type = 'info') => {\n    setMessage({ text, type });\n  }, []);\n\n  useEffect(() => {\n    if (isAuthenticated && accounts.length > 0) {\n      const fetchProfile = async () => {\n        try {\n          const response = await instance.acquireTokenSilent({ ...loginRequest, account: accounts[0] });\n          const graphResponse = await fetch('https://graph.microsoft.com/v1.0/me', { headers: { Authorization: `Bearer ${response.accessToken}` } });\n          const profile = await graphResponse.json();\n          setUserProfile(profile);\n          setCurrentPage('dashboard');\n          fetchSharePointData();\n        } catch (e) {\n          console.error(e);\n          showMessage('Could not fetch user profile.', 'error');\n        }\n      };\n      fetchProfile();\n    } else {\n      setCurrentPage('login');\n    }\n  }, [isAuthenticated, accounts, instance, fetchSharePointData, showMessage]);\n\n  useEffect(() => {\n    if (error) {\n        showMessage(error, 'error');\n    }\n  }, [error, showMessage]);\n\n  useEffect(() => {\n    localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');\n    document.documentElement.classList.toggle('dark', isDarkMode);\n  }, [isDarkMode]);\n\n  useEffect(() => {\n    localStorage.setItem('excelOpeningPreference', excelOpeningPreference);\n  }, [excelOpeningPreference]);\n\n  const handleLogout = () => {\n    if (accounts.length > 0) {\n        instance.logoutPopup({\n            account: accounts[0]\n        }).catch(e => {\n            console.error(e);\n        });\n    }\n  };\n\n  const handleMicrosoftLogin = () => instance.loginPopup(loginRequest).catch(e => console.error(e));\n\n  const handleExcelOpen = useCallback((file) => {\n    if (excelOpeningPreference === 'ask') {\n      setModal('excelChoice');\n    } else if (excelOpeningPreference === 'web') {\n      window.open(file.webUrl, '_blank');\n    } else {\n      window.location.href = `ms-excel:ofe|u|${encodeURIComponent(file.webUrl)}`;\n    }\n  }, [excelOpeningPreference]);\n\n  const handleView = useCallback(async (file) => {\n    setSelectedFile(file);\n    if (file.type === 'xlsx') {\n        handleExcelOpen(file);\n    } else {\n        try {\n            const content = await downloadFileFromSharePoint(file);\n            setViewedFileContent(content);\n            setModal('viewFile');\n        } catch (e) {\n            showMessage(e.message, 'error');\n        }\n    }\n  }, [downloadFileFromSharePoint, handleExcelOpen, showMessage]);\n\n  const handleApprove = useCallback((fileId) => {\n    const fileToApprove = folders[FOLDER_NAMES.INCOMING_INVOICES]?.find(f => f.id === fileId);\n    if (fileToApprove) {\n        setSelectedFile(fileToApprove);\n        setModal('confirmApproval');\n    }\n  }, [folders]);\n\n  const handleSent = useCallback((fileId) => {\n    const fileToSend = folders[FOLDER_NAMES.PUBLISHED_DOCUMENTS]?.find(f => f.id === fileId);\n    if(fileToSend) {\n        setSelectedFile(fileToSend);\n        setModal('confirmSent');\n    }\n  }, [folders]);\n\n  const handleConfirm = useCallback(async () => {\n    if (!selectedFile || !modal) return;\n    const action = modal;\n    const originalFile = selectedFile;\n    setModal(null);\n    try {\n      let successMessage = '';\n      if (action === 'confirmApproval') {\n        const sourceFolderId = FOLDER_DETAILS.incomingInvoices.id;\n        const destFolderId = FOLDER_DETAILS.approvedInvoices.id;\n        await moveSharePointFile(originalFile.id, sourceFolderId, destFolderId);\n        successMessage = 'File approved successfully.';\n      } else if (action === 'confirmSent') {\n        const sourceFolderId = FOLDER_DETAILS.publishedDocuments.id;\n        const destFolderId = FOLDER_DETAILS.sentDocuments.id;\n        await moveSharePointFile(originalFile.id, sourceFolderId, destFolderId);\n        successMessage = 'File marked as sent.';\n      }\n      showMessage(successMessage, 'success');\n      fetchSharePointData();\n    } catch (e) {\n      showMessage(e.message, 'error');\n    }\n  }, [selectedFile, modal, moveSharePointFile, showMessage, fetchSharePointData]);\n\n  // FIX: The switch statement was broken here. It is now fully restored.\n  const renderPage = () => {\n    switch (currentPage) {\n        case 'dashboard':\n            return <DashboardPage userProfile={userProfile} folders={folders} setCurrentPage={setCurrentPage} />;\n        case 'incomingInvoices':\n            return <IncomingInvoicesPage files={folders[FOLDER_NAMES.INCOMING_INVOICES] || []} setCurrentPage={setCurrentPage} onView={handleView} onApprove={handleApprove} />;\n        case 'approvedInvoices':\n            return <ApprovedInvoicesPage files={folders[FOLDER_NAMES.APPROVED_INVOICES] || []} setCurrentPage={setCurrentPage} onView={handleView} />;\n        case 'publishedDocuments':\n            return <PublishedDocumentsPage files={folders[FOLDER_NAMES.PUBLISHED_DOCUMENTS] || []} setCurrentPage={setCurrentPage} onView={handleView} onSent={handleSent} />;\n        case 'sentDocuments':\n            return <SentDocumentsPage files={folders[FOLDER_NAMES.SENT_DOCUMENTS] || []} setCurrentPage={setCurrentPage} onView={handleView} />;\n        default:\n            return <LoginPage onLogin={handleMicrosoftLogin} />;\n    }\n  };\n\n  const closeModal = () => {\n    setModal(null);\n    setSelectedFile(null);\n    if (viewedFileContent && viewedFileContent.startsWith('blob:')) {\n      URL.revokeObjectURL(viewedFileContent);\n    }\n    setViewedFileContent(null);\n  };\n\n  if (!isAuthenticated) {\n    return <LoginPage onLogin={handleMicrosoftLogin} />;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-light-bg-canvas dark:bg-dark-bg-card text-text-primary-light dark:text-text-primary-dark\">\n      {isLoading && <LoadingSpinner />}\n      <MessageDisplay message={message} onClearMessage={() => setMessage({ text: '', type: '' })} />\n\n      <Header\n        onLogout={handleLogout}\n        onRefresh={fetchSharePointData}\n        onSettingsClick={() => setModal('settings')}\n        setCurrentPage={setCurrentPage}\n        currentPage={currentPage}\n      />\n\n      <main className=\"p-4 sm:p-6 md:p-8 max-w-7xl mx-auto w-full\">\n        {renderPage()}\n      </main>\n\n      <ConfirmModal\n        isOpen={modal === 'confirmApproval' || modal === 'confirmSent'}\n        onClose={closeModal}\n        onConfirm={handleConfirm}\n        title={modal === 'confirmApproval' ? \"Confirm Approval\" : \"Confirm Sent\"}\n        message={`Are you sure you want to proceed with this action for \"${selectedFile?.name}\"?`}\n      />\n      <ViewFileModal\n        isOpen={modal === 'viewFile'}\n        onClose={closeModal}\n        file={selectedFile}\n        content={viewedFileContent}\n      />\n      <ExcelChoiceModal\n        isOpen={modal === 'excelChoice'}\n        onClose={closeModal}\n        fileName={selectedFile?.name || ''}\n        onOpenWeb={() => { window.open(selectedFile?.webUrl, '_blank'); closeModal(); }}\n        onOpenDesktop={() => { window.location.href = `ms-excel:ofe|u|${encodeURIComponent(selectedFile?.webUrl)}`; closeModal(); }}\n      />\n      <SettingsModal\n        isOpen={modal === 'settings'}\n        onClose={closeModal}\n        isDarkMode={isDarkMode}\n        toggleDarkMode={() => setIsDarkMode(prev => !prev)}\n        currentExcelPreference={excelOpeningPreference}\n        onPreferenceChange={setExcelOpeningPreference}\n      />\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}